<!DOCTYPE html>
<html>
	<head>
		<style>
body {
	font-family: sans-serif;
}
a {
	background: blue;
	color: white;
	margin: 0.5em;
	padding: 0.5em;
	border-radius: 0.5em;
	text-decoration: none;
	display: inline-block;
}
		</style>
	</head>
	<body>
		<h2>The Forehead Game</h2>
		<div id="sets">Loading...</div>
		<div><a href="/editor.html">New Set</a></div>
		<script>
var x = new XMLHttpRequest()
x.open("GET", "/sets")
x.addEventListener("loadend", (e) => {
	var sets = JSON.parse(e.target.responseText)
	document.querySelector("#sets").innerText = "" // remove the loading message
	// sets is a list of:
	// {
	//     "filename": clicking on the set should redirect to /game.html?set=THISVALUE
	//     "displayname": the name to show to the user
	// }
	for (var i = 0; i < sets.length; i++) {
		var e = document.createElement("div")
		e.appendChild(document.createElement("a"))
		e.children[0].innerText = "Play"
		e.children[0].setAttribute("href", `/game.html?set=${sets[i].filename}`)
		e.appendChild(document.createElement("a"))
		e.children[1].innerText = "Edit"
		e.children[1].setAttribute("href", `/editor.html?set=${sets[i].filename}`)
		e.appendChild(document.createElement("b"))
		e.children[2].innerText = sets[i].displayname
		document.querySelector("#sets").appendChild(e)
	}
})
x.send()
		</script>
	</body>
</html>